<%if  @wallet_last.caixa_status == 1 %>
<div class="card card-outline card-dark">
  <div class="card-header">
    <div class="form-inline" style="justify-content: space-between;">
      <h1><%="Saldo do dia: #{number_to_currency(@wallet_last.balance, unit: 'R$' , separator: ',' , delimiter: '.' )}" %></h1>
      <%= form_with(url: retirar_caixa_path) do |f| %>
        <%= f.hidden_field :wallet_id, value: @wallet_last.id %>
        <%= f.hidden_field :data, value: @wallet_last.data %>

        <%= f.submit "Fechar o Caixa", class: "btn btn-warning" %>
      <% end %>
    </div>
  </div>
  <div class="card-body">    
    <div class="row">
      <div class="col-md-6">
        <div class="card border border-primary">
          <div class="card-body ">
            <%= form_with(url: reforco_caixa_path) do |f| %>
              <%= f.hidden_field :wallet_id, value: @wallet_last.id %>
              <%= f.hidden_field :data, value: @wallet_last.data %>
    
              <div class="form-group">
                <%= f.label :valor, "Valor Reforço" %>
                <%= f.number_field :valor, class: "form-control", placeholder: "Valor" %>
              </div>
    
              <div class="form-group">
                <%= f.label :obs, "Justificativa" %>
                <%= f.text_area :obs, class: "form-control", placeholder: "Justificativa" %>
              </div>
    
              <%= f.submit "Reforço", class: "btn btn-primary btn-sm" %>
            <% end %>
          </div>
        </div>
      </div>
        
      
      <div class="col-md-6">
        <div class="card border border-danger">
          <div class="card-body">
            <%= form_with(url: retirar_caixa_path) do |f| %>
              <%= f.hidden_field :wallet_id, value: @wallet_last.id %>
              <%= f.hidden_field :data, value: @wallet_last.data %>
    
              <div class="form-group">
                <%= f.label :valor, "Valor Retirada" %>
                <%= f.number_field :valor, class: "form-control", placeholder: "Valor" %>
              </div>
    
              <div class="form-group">
                <%= f.label :obs, "Justificativa" %>
                <%= f.text_area :obs, class: "form-control", placeholder: "Justificativa" %>
              </div>
    
              <%= f.submit "Retirada", class: "btn btn-primary btn-sm" %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
    <h1>Reforços e Retiradas</h1>


    <table class="table table-bordered table-hover mt-4">
      <thead>
        <tr>
          <th>Data</th>
          <th>Valor</th>
          <th>Justificativa</th>
          <!--
          <th>Ações</th>
          -->
        </tr>
      </thead>
      
      <tbody>
        <% @list_wallets.each do |list_wallet| %>
          <tr>
            <td><%= list_wallet.data.strftime("%d/%m/%Y") %></td>
            <% if list_wallet.tipo === 1  %>
              <td style="color: blue;"><%="#{number_to_currency(list_wallet.valor, unit: 'R$ +' , separator: ',' , delimiter: '.' )}" %></td>
              <%= %>
            <% else %>
              <td style="color: red;"><%="#{number_to_currency(list_wallet.valor, unit: 'R$ -' , separator: ',' , delimiter: '.' )}" %></td>
            <% end %>
            
            
            <td><%= list_wallet.obs %></td>
            <!--
            <td>
              <%= link_to 'Detalhes', list_wallet, class: 'btn btn-info btn-sm' %>
              <%= link_to 'Editar', edit_list_wallet_path(list_wallet), class: 'btn btn-warning btn-sm' %>
              <%= link_to 'Excluir', list_wallet, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger btn-sm' %>
            </td>
            -->
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
<%end %>
<%if  @wallet_last.caixa_status == 0 %>
  <div class="card card-outline card-dark">
    <div class="card-header">
      <h1>Reforços e Retiradas</h1>
    </div>

    <table class="table table-bordered table-hover mt-4">
      <thead>
        <tr>
          <th>Data</th>
          <th>Valor</th>
          <th>Justificativa</th>
          <!--
          <th>Ações</th>
          -->
        </tr>
      </thead>
      
      <tbody>
        <% @list_wallets.each do |list_wallet| %>
          <tr>
            <td><%= list_wallet.data.strftime("%d/%m/%Y") %></td>
            <% if list_wallet.tipo === 1  %>
              <td style="color: blue;"><%="#{number_to_currency(list_wallet.valor, unit: 'R$ +' , separator: ',' , delimiter: '.' )}" %></td>
              <%= %>
            <% else %>
              <td style="color: red;"><%="#{number_to_currency(list_wallet.valor, unit: 'R$ -' , separator: ',' , delimiter: '.' )}" %></td>
            <% end %>
            
            
            <td><%= list_wallet.obs %></td>
            <!--
            <td>
              <%= link_to 'Detalhes', list_wallet, class: 'btn btn-info btn-sm' %>
              <%= link_to 'Editar', edit_list_wallet_path(list_wallet), class: 'btn btn-warning btn-sm' %>
              <%= link_to 'Excluir', list_wallet, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger btn-sm' %>
            </td>
            -->
          </tr>
        <% end %>
      </tbody>
    </table>

    <div class="card-footer">
      <% if @wallet_last.balance >= 0  %>
        <td style="color: blue;"><%="Saldo do dia: #{number_to_currency(@wallet_last.balance, unit: 'R$' , separator: ',' , delimiter: '.' )}" %></td>
        <%= %>
      <% else %>
        <td style="color: red;"><%="Saldo do dia: #{number_to_currency(@wallet_last.balance, unit: 'R$' , separator: ',' , delimiter: '.' )}" %></td>
      <% end %>
    </div>
  </div>
    
<% end %>

